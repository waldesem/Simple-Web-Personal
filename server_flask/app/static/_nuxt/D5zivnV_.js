import{H as G,d as B,E as K,C as J,o as m,c as b,b as d,G as S,f as e,k as w,J as $,M as Q,a4 as T,am as L,P as U,s as C,m as R,p as X,e as i,K as Y,ae as Z,b0 as ee,aa as ae,a2 as te,at as le,aM as re,aQ as se,g as oe,ac as h,aj as M,h as E,ab as j,t as O,b1 as P,ad as N,ah as ie,i as ne,_ as de,l as ue}from"./CUplRSS5.js";import{R as ce,i as A}from"./D6RvNOzB.js";import{u as me}from"./BF1JvfLe.js";import{V as fe}from"./kNwMBDM_.js";import{L as D,f as pe,b as ve,g as be,h as ye}from"./BDt75oMD.js";import"./D_7QVLHn.js";const[he]=G("CheckboxGroupRoot");function z(t){return t==="indeterminate"}function W(t){return z(t)?"indeterminate":t?"checked":"unchecked"}const[ge,ke]=G("CheckboxRoot");var Ve=B({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(t,{emit:g}){const a=t,c=g,{forwardRef:l,currentElement:f}=K(),u=he(null),r=J(a,"modelValue",c,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),p=C(()=>u?.disabled.value||a.disabled),n=C(()=>R(u?.modelValue.value)?r.value==="indeterminate"?"indeterminate":r.value:A(u.modelValue.value,a.value));function y(){if(R(u?.modelValue.value))r.value=z(r.value)?!0:!r.value;else{const s=[...u.modelValue.value||[]];if(A(s,a.value)){const o=s.findIndex(F=>X(F,a.value));s.splice(o,1)}else s.push(a.value);u.modelValue.value=s}}const k=me(f),V=C(()=>a.id&&f.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return ke({disabled:p,state:n}),(s,o)=>(m(),b(L(e(u)?.rovingFocus.value?e(ce):e(U)),$(s.$attrs,{id:s.id,ref:e(l),role:"checkbox","as-child":s.asChild,as:s.as,type:s.as==="button"?"button":void 0,"aria-checked":e(z)(n.value)?"mixed":n.value,"aria-required":s.required,"aria-label":s.$attrs["aria-label"]||V.value,"data-state":e(W)(n.value),"data-disabled":p.value?"":void 0,disabled:p.value,focusable:e(u)?.rovingFocus.value?!p.value:void 0,onKeydown:Q(T(()=>{},["prevent"]),["enter"]),onClick:y}),{default:d(()=>[S(s.$slots,"default",{modelValue:e(r),state:n.value}),e(k)&&s.name&&!e(u)?(m(),b(e(fe),{key:0,type:"checkbox",checked:!!n.value,name:s.name,value:s.value,disabled:p.value,required:s.required},null,8,["checked","name","value","disabled","required"])):w("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),qe=Ve,we=B({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const{forwardRef:g}=K(),a=ge();return(c,l)=>(m(),b(e(Y),{present:c.forceMount||e(z)(e(a).state.value)||e(a).state.value===!0},{default:d(()=>[i(e(U),$({ref:e(g),"data-state":e(W)(e(a).state.value),"data-disabled":e(a).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":c.asChild,as:c.as},c.$attrs),{default:d(()=>[S(c.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),xe=we;const Ce={slots:{root:"relative flex items-start",container:"flex items-center",base:"rounded-sm ring ring-inset ring-accented overflow-hidden focus-visible:outline-2 focus-visible:outline-offset-2",indicator:"flex items-center justify-center size-full text-inverted",icon:"shrink-0 size-full",wrapper:"w-full",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"focus-visible:outline-primary",indicator:"bg-primary"},secondary:{base:"focus-visible:outline-secondary",indicator:"bg-secondary"},success:{base:"focus-visible:outline-success",indicator:"bg-success"},info:{base:"focus-visible:outline-info",indicator:"bg-info"},warning:{base:"focus-visible:outline-warning",indicator:"bg-warning"},error:{base:"focus-visible:outline-error",indicator:"bg-error"},neutral:{base:"focus-visible:outline-inverted",indicator:"bg-inverted"}},variant:{list:{root:""},card:{root:"border border-muted rounded-lg"}},indicator:{start:{root:"flex-row",wrapper:"ms-2"},end:{root:"flex-row-reverse",wrapper:"me-2"},hidden:{base:"sr-only",wrapper:"text-center"}},size:{xs:{base:"size-3",container:"h-4",wrapper:"text-xs"},sm:{base:"size-3.5",container:"h-4",wrapper:"text-xs"},md:{base:"size-4",container:"h-5",wrapper:"text-sm"},lg:{base:"size-4.5",container:"h-5",wrapper:"text-sm"},xl:{base:"size-5",container:"h-6",wrapper:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{root:"opacity-75",base:"cursor-not-allowed",label:"cursor-not-allowed",description:"cursor-not-allowed"}},checked:{true:""}},compoundVariants:[{size:"xs",variant:"card",class:{root:"p-2.5"}},{size:"sm",variant:"card",class:{root:"p-3"}},{size:"md",variant:"card",class:{root:"p-3.5"}},{size:"lg",variant:"card",class:{root:"p-4"}},{size:"xl",variant:"card",class:{root:"p-4.5"}},{color:"primary",variant:"card",class:{root:"has-data-[state=checked]:border-primary"}},{color:"secondary",variant:"card",class:{root:"has-data-[state=checked]:border-secondary"}},{color:"success",variant:"card",class:{root:"has-data-[state=checked]:border-success"}},{color:"info",variant:"card",class:{root:"has-data-[state=checked]:border-info"}},{color:"warning",variant:"card",class:{root:"has-data-[state=checked]:border-warning"}},{color:"error",variant:"card",class:{root:"has-data-[state=checked]:border-error"}},{color:"neutral",variant:"card",class:{root:"has-data-[state=checked]:border-inverted"}},{variant:"card",disabled:!0,class:{root:"cursor-not-allowed"}}],defaultVariants:{size:"md",color:"primary",variant:"list",indicator:"start"}},Se=Object.assign({inheritAttrs:!1},{__name:"UCheckbox",props:P({as:{type:null,required:!1},label:{type:String,required:!1},description:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},indicator:{type:null,required:!1},icon:{type:null,required:!1},indeterminateIcon:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},required:{type:Boolean,required:!1},name:{type:String,required:!1},value:{type:null,required:!1},id:{type:String,required:!1},defaultValue:{type:[Boolean,String],required:!1}},{modelValue:{type:[Boolean,String],default:void 0},modelModifiers:{}}),emits:P(["change"],["update:modelValue"]),setup(t,{emit:g}){const a=t,c=Z(),l=g,f=ee(t,"modelValue",{type:[Boolean,String],default:void 0}),u=ae(),r=te(le(a,"required","value","defaultValue")),{id:p,emitFormChange:n,emitFormInput:y,size:k,color:V,name:s,disabled:o,ariaAttrs:F}=re(a),I=p.value??se(),v=C(()=>N({extend:N(Ce),...u.ui?.checkbox||{}})({size:k.value,color:V.value,variant:a.variant,indicator:a.indicator,required:a.required,disabled:o.value}));function H(q){const x=new Event("change",{target:{value:q}});l("change",x),n(),y()}return(q,x)=>(m(),b(e(U),{as:!t.variant||t.variant==="list"?t.as:e(D),"data-slot":"root",class:h(v.value.root({class:[a.ui?.root,a.class]}))},{default:d(()=>[oe("div",{"data-slot":"container",class:h(v.value.container({class:a.ui?.container}))},[i(e(qe),$({id:e(I)},{...e(r),...q.$attrs,...e(F)},{modelValue:f.value,"onUpdate:modelValue":[x[0]||(x[0]=_=>f.value=_),H],name:e(s),disabled:e(o),"data-slot":"base",class:v.value.base({class:a.ui?.base})}),{default:d(({modelValue:_})=>[i(e(xe),{"data-slot":"indicator",class:h(v.value.indicator({class:a.ui?.indicator}))},{default:d(()=>[_==="indeterminate"?(m(),b(M,{key:0,name:t.indeterminateIcon||e(u).ui.icons.minus,"data-slot":"icon",class:h(v.value.icon({class:a.ui?.icon}))},null,8,["name","class"])):(m(),b(M,{key:1,name:t.icon||e(u).ui.icons.check,"data-slot":"icon",class:h(v.value.icon({class:a.ui?.icon}))},null,8,["name","class"]))]),_:2},1032,["class"])]),_:1},16,["id","modelValue","name","disabled","class"])],2),t.label||c.label||t.description||c.description?(m(),E("div",{key:0,"data-slot":"wrapper",class:h(v.value.wrapper({class:a.ui?.wrapper}))},[t.label||c.label?(m(),b(L(!t.variant||t.variant==="list"?e(D):"p"),{key:0,for:e(I),"data-slot":"label",class:h(v.value.label({class:a.ui?.label}))},{default:d(()=>[S(q.$slots,"label",{label:t.label},()=>[j(O(t.label),1)])]),_:3},8,["for","class"])):w("",!0),t.description||c.description?(m(),E("p",{key:1,"data-slot":"description",class:h(v.value.description({class:a.ui?.description}))},[S(q.$slots,"description",{description:t.description},()=>[j(O(t.description),1)])],2)):w("",!0)],2)):w("",!0)]),_:3},8,["as","class"]))}}),ze=B({__name:"WorkplacesForm",props:{item:{type:Object,default:()=>({})}},emits:["update"],setup(t,{emit:g}){const a=g,l=ie(t.item),f=ue(!1);return l.value.starts=l.value.starts?new Date(l.value.starts).toISOString().substring(0,10):"",l.value.finished=l.value.finished?new Date(l.value.finished).toISOString().substring(0,10):"",(u,r)=>{const p=Se,n=pe,y=ve,k=be,V=de,s=ye;return m(),b(s,{state:e(l),onSubmit:r[7]||(r[7]=T(o=>a("update",e(l)),["prevent"]))},{default:d(()=>[i(n,{label:"Текущая работа",name:"now_work"},{default:d(()=>[i(p,{modelValue:e(f),"onUpdate:modelValue":r[0]||(r[0]=o=>ne(f)?f.value=o:null)},null,8,["modelValue"])]),_:1}),i(n,{label:"Начало работы",name:"starts",required:""},{default:d(()=>[i(y,{modelValue:e(l).starts,"onUpdate:modelValue":r[1]||(r[1]=o=>e(l).starts=o),type:"date",max:new Date().toISOString().split("T")[0],min:"1900-01-01",required:""},null,8,["modelValue","max"])]),_:1}),e(f)?w("",!0):(m(),b(n,{key:0,label:"Окончание работы",name:"finished"},{default:d(()=>[i(y,{modelValue:e(l).finished,"onUpdate:modelValue":r[2]||(r[2]=o=>e(l).finished=o),type:"date"},null,8,["modelValue"])]),_:1})),i(n,{label:"Место работы",name:"workplace",required:""},{default:d(()=>[i(y,{modelValue:e(l).workplace,"onUpdate:modelValue":r[3]||(r[3]=o=>e(l).workplace=o),modelModifiers:{trim:!0,lazy:!0},placeholder:"Место работы",maxlength:"255",required:""},null,8,["modelValue"])]),_:1}),i(n,{label:"Должность",name:"position",required:""},{default:d(()=>[i(y,{modelValue:e(l).position,"onUpdate:modelValue":r[4]||(r[4]=o=>e(l).position=o),modelModifiers:{trim:!0,lazy:!0},placeholder:"Должность",maxlength:"255",required:""},null,8,["modelValue"])]),_:1}),i(n,{label:"Адрес организации",name:"address"},{default:d(()=>[i(k,{modelValue:e(l).address,"onUpdate:modelValue":r[5]||(r[5]=o=>e(l).address=o),modelModifiers:{trim:!0,lazy:!0},placeholder:"Адрес организации"},null,8,["modelValue"])]),_:1}),i(n,{label:"Причина увольнения",name:"reason"},{default:d(()=>[i(k,{modelValue:e(l).reason,"onUpdate:modelValue":r[6]||(r[6]=o=>e(l).reason=o),modelModifiers:{trim:!0,lazy:!0},placeholder:"Причина увольнения"},null,8,["modelValue"])]),_:1}),i(V,{label:"Принять",color:"success",variant:"outline",type:"submit"})]),_:1},8,["state"])}}}),Re=Object.assign(ze,{__name:"FormsWorkplacesForm"});export{Re as default};
